{"modules":[{"id":"598bfc87-b906-4c59-828e-7a18dbf1e72e","type":"PlayPrompt","branches":[{"condition":"Success","transition":"b854d9a5-d006-4a40-b99e-2e5acf4aaf16"}],"parameters":[{"name":"Text","value":"Your case is being created.\nYour case number is $.External.caseNumber. Someone will be in touch shortly.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":2022,"y":533},"useDynamic":false}},{"id":"d8e90d4b-9ed8-4640-95b2-a1fb054b224a","type":"CheckAttribute","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"200","transition":"598bfc87-b906-4c59-828e-7a18dbf1e72e"},{"condition":"NoMatch","transition":"c931ee33-1884-4414-85e9-a8b1655e77e2"}],"parameters":[{"name":"Attribute","value":"statusCode"},{"name":"Namespace","value":"External"}],"metadata":{"position":{"x":1763,"y":537},"conditionMetadata":[{"id":"d9728243-229a-40f4-853c-b49b18d2cf2c","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"200"}]}},{"id":"1137efc2-201c-46a6-b1f5-873e4824d06b","type":"GetUserInput","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"sugarFallback","transition":"cbf96ced-4408-4e68-ab82-c27d95a96220"},{"condition":"NoMatch","transition":"cbf96ced-4408-4e68-ab82-c27d95a96220"},{"condition":"Error","transition":"c931ee33-1884-4414-85e9-a8b1655e77e2"}],"parameters":[{"name":"Text","value":"Please state the problem you are experiencing and press enter when you are done.","namespace":null},{"name":"TextToSpeechType","value":"text"},{"name":"BotName","value":"SugarServeSampleBot"},{"name":"BotAlias","value":"$LATEST"},{"name":"BotRegion","value":"ap-southeast-2"}],"metadata":{"position":{"x":1282,"y":555},"conditionMetadata":[{"id":"d42dbbfe-11d5-4a9c-8372-c7acd1b84a97","value":"sugarFallback"}],"useDynamic":false,"dynamicMetadata":{}},"target":"Lex"},{"id":"cbf96ced-4408-4e68-ab82-c27d95a96220","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"d8e90d4b-9ed8-4640-95b2-a1fb054b224a"},{"condition":"Error","transition":"c931ee33-1884-4414-85e9-a8b1655e77e2"}],"parameters":[{"name":"FunctionArn","value":"arn:aws:lambda:ap-southeast-2:897790359321:function:jchen-test-CreateCaseFunction-1437T6HKYQHER","namespace":null},{"name":"TimeLimit","value":"3"},{"name":"Parameter","key":"caseSource","value":"Chatbot","namespace":null},{"name":"Parameter","key":"contactName","value":"sugarContactName","namespace":"User Defined"},{"name":"Parameter","key":"accountId","value":"sugarAccountId","namespace":"User Defined"},{"name":"Parameter","key":"contactId","value":"sugarContactId","namespace":"User Defined"},{"name":"Parameter","key":"caseDescription","value":"string","namespace":"Lex.SessionAttributes"}],"metadata":{"position":{"x":1535,"y":572},"dynamicMetadata":{"caseSource":false,"contactName":true,"accountId":true,"contactId":true,"caseDescription":true},"useDynamic":false},"target":"Lambda"},{"id":"9af8d52f-b065-477a-b00a-c849a19de262","type":"PlayPrompt","branches":[{"condition":"Success","transition":"b854d9a5-d006-4a40-b99e-2e5acf4aaf16"}],"parameters":[{"name":"Text","value":"The status of your case is $.External.caseStatus","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1889,"y":242},"useDynamic":false}},{"id":"b1905997-59e5-4d78-9dbd-763e8d156ac1","type":"CheckAttribute","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"200","transition":"9af8d52f-b065-477a-b00a-c849a19de262"},{"condition":"NoMatch","transition":"c931ee33-1884-4414-85e9-a8b1655e77e2"}],"parameters":[{"name":"Attribute","value":"statusCode"},{"name":"Namespace","value":"External"}],"metadata":{"position":{"x":1641,"y":148},"conditionMetadata":[{"id":"be59293f-f95d-4180-b17a-1c668610b1cd","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"200"}]}},{"id":"7e3b2b2c-11ea-4777-b3d6-4ac5b93b2683","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"b1905997-59e5-4d78-9dbd-763e8d156ac1"},{"condition":"Error","transition":"c931ee33-1884-4414-85e9-a8b1655e77e2"}],"parameters":[{"name":"FunctionArn","value":"arn:aws:lambda:ap-southeast-2:897790359321:function:jchen-test-CaseStatusFunction-11XQ6OJBSEEQ3","namespace":null},{"name":"TimeLimit","value":"3"},{"name":"Parameter","key":"caseNumber","value":"caseNumber","namespace":"Lex.Slots"}],"metadata":{"position":{"x":1231,"y":154},"dynamicMetadata":{"caseNumber":true},"useDynamic":false},"target":"Lambda"},{"id":"53529a47-c775-4d96-a8d0-e44df173d93e","type":"Transfer","branches":[{"condition":"Error","transition":"c931ee33-1884-4414-85e9-a8b1655e77e2"}],"parameters":[{"name":"ContactFlowId","value":"arn:aws:connect:ap-southeast-2:897790359321:instance/57b78308-8e34-4884-b65a-17ff086b24cd/contact-flow/6c78b0fc-54f4-48f9-b2d5-4db3c588d977","resourceName":"Sample queue configurations flow"}],"metadata":{"position":{"x":682,"y":533},"useDynamic":false,"ContactFlow":{"id":"arn:aws:connect:ap-southeast-2:897790359321:instance/57b78308-8e34-4884-b65a-17ff086b24cd/contact-flow/6c78b0fc-54f4-48f9-b2d5-4db3c588d977","text":"Sample queue configurations flow"}},"target":"Flow"},{"id":"dff76cf5-d73a-4c12-b68e-495c9a7e1bbc","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":2469,"y":245}}},{"id":"e4206c32-04fe-4087-8378-82599f8308ae","type":"CheckAttribute","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"0","transition":"463c2d91-9192-4952-a079-673b07de5251"},{"condition":"NoMatch","transition":"7e3b2b2c-11ea-4777-b3d6-4ac5b93b2683"}],"parameters":[{"name":"Attribute","value":"caseNumber"},{"name":"Namespace","value":"Lex.Slots"}],"metadata":{"position":{"x":960,"y":156},"conditionMetadata":[{"id":"ab95086e-5191-49d6-87e4-83db42ffe4ae","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"0"}]}},{"id":"5cc76281-fe75-4004-be2c-d869fc6b6b41","type":"GetUserInput","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"openCaseSelf","transition":"1137efc2-201c-46a6-b1f5-873e4824d06b"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"connectToAgent","transition":"463c2d91-9192-4952-a079-673b07de5251"},{"condition":"NoMatch","transition":"463c2d91-9192-4952-a079-673b07de5251"},{"condition":"Error","transition":"463c2d91-9192-4952-a079-673b07de5251"}],"parameters":[{"name":"Text","value":"Would you like to open the case yourself or speak with an agent?","namespace":null},{"name":"TextToSpeechType","value":"text"},{"name":"BotName","value":"SugarServeSampleBot"},{"name":"BotAlias","value":"$LATEST"},{"name":"BotRegion","value":"ap-southeast-2"}],"metadata":{"position":{"x":962,"y":551},"conditionMetadata":[{"id":"602dc882-ff00-48e6-b177-353ac30c6bd5","value":"openCaseSelf"},{"id":"b2215c7e-c476-4a1c-a9df-3b2ab1324250","value":"connectToAgent"}],"useDynamic":false,"dynamicMetadata":{}},"target":"Lex"},{"id":"2a6d8e7a-6a6d-4ca4-98cf-dd14eb26fb84","type":"PlayPrompt","branches":[{"condition":"Success","transition":"dff76cf5-d73a-4c12-b68e-495c9a7e1bbc"}],"parameters":[{"name":"Text","value":"Thank you, have a good day!","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1065,"y":933},"useDynamic":false}},{"id":"463c2d91-9192-4952-a079-673b07de5251","type":"PlayPrompt","branches":[{"condition":"Success","transition":"53529a47-c775-4d96-a8d0-e44df173d93e"}],"parameters":[{"name":"Text","value":"One moment while I transfer you to an agent","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":452,"y":530},"useDynamic":false}},{"id":"5f8012d1-cac4-4577-ba60-99c216a7d4a8","type":"PlayPrompt","branches":[{"condition":"Success","transition":"8bf390a6-de38-48ee-93e4-3e5e99557567"}],"parameters":[{"name":"Text","value":"Hello $.Attributes.sugarContactName, you can ask for any of the following options. At any time during our conversation, type “connect to an agent” to speak with an agent.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":284,"y":58},"useDynamic":false}},{"id":"b854d9a5-d006-4a40-b99e-2e5acf4aaf16","type":"PlayPrompt","branches":[{"condition":"Success","transition":"8bf390a6-de38-48ee-93e4-3e5e99557567"}],"parameters":[{"name":"Text","value":"If you would like to do something else, you can choose from the options or type \"done\" if you are done.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":2217,"y":236},"useDynamic":false}},{"id":"9323e97f-8e3f-42d6-bc3c-9afd53f62e9e","type":"PlayPrompt","branches":[{"condition":"Success","transition":"8bf390a6-de38-48ee-93e4-3e5e99557567"}],"parameters":[{"name":"Text","value":"I do not understand that.\nPlease try again.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":276,"y":263},"useDynamic":false}},{"id":"c931ee33-1884-4414-85e9-a8b1655e77e2","type":"PlayPrompt","branches":[{"condition":"Success","transition":"8bf390a6-de38-48ee-93e4-3e5e99557567"}],"parameters":[{"name":"Text","value":"Unexpected error.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":688,"y":727},"useDynamic":false}},{"id":"8bf390a6-de38-48ee-93e4-3e5e99557567","type":"GetUserInput","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"getCase","transition":"e4206c32-04fe-4087-8378-82599f8308ae"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"openCase","transition":"5cc76281-fe75-4004-be2c-d869fc6b6b41"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"done","transition":"2a6d8e7a-6a6d-4ca4-98cf-dd14eb26fb84"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"connectToAgent","transition":"463c2d91-9192-4952-a079-673b07de5251"},{"condition":"NoMatch","transition":"9323e97f-8e3f-42d6-bc3c-9afd53f62e9e"},{"condition":"Error","transition":"c931ee33-1884-4414-85e9-a8b1655e77e2"}],"parameters":[{"name":"Text","value":"a. Check case status\nb. Open a case\nc. Connect to an agent","namespace":null},{"name":"TextToSpeechType","value":"text"},{"name":"BotName","value":"SugarServeSampleBot"},{"name":"BotAlias","value":"$LATEST"},{"name":"BotRegion","value":"ap-southeast-2"}],"metadata":{"position":{"x":587,"y":51},"conditionMetadata":[{"id":"9fe44c27-c962-4bff-a821-f2c342413916","value":"getCase"},{"id":"6a8c617e-597d-417b-a99d-c69311005497","value":"openCase"},{"id":"a8971c78-36f3-4824-a232-2faf2c100f4e","value":"done"},{"id":"65adee4b-5353-409b-a5fa-c796c0e55655","value":"connectToAgent"}],"useDynamic":false,"dynamicMetadata":{}},"target":"Lex"}],"version":"1","type":"contactFlow","start":"5f8012d1-cac4-4577-ba60-99c216a7d4a8","metadata":{"entryPointPosition":{"x":15,"y":15},"snapToGrid":false,"name":"SugarCRM_Portal_Chat_Contact_Flow_Nov_2020","description":null,"type":"contactFlow","status":"published","hash":"3c7ed15dd885ddb9992e707ccf2e2d9cb422974537e2a05900f6cc4d81c20873"}}